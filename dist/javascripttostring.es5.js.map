{"version":3,"file":"javascripttostring.es5.js","sources":["../src/javascripttostring.ts"],"sourcesContent":["import getObjectType from \"get-internal-type\";\r\n\r\n/**\r\n * Converts JavaScript value to string\r\n * @param obj the value of any type\r\n */\r\nfunction javaScriptToString(obj: any): string {\r\n  let prop,\r\n    str: string[] = [];\r\n\r\n  switch (getObjectType(obj)) {\r\n    case \"undefined\":\r\n      return String(obj);\r\n    case \"object\":\r\n      if (obj instanceof Map) {\r\n        let stringParams: string[] = [];\r\n        obj.forEach((value, key) => {\r\n          stringParams.push(\r\n            `[${javaScriptToString(key)},${javaScriptToString(value)}]`\r\n          );\r\n        });\r\n        str.push(`new Map([${stringParams.join(\",\")}])`);\r\n      }\r\n      if (obj instanceof Set) {\r\n        let stringParams: string[] = [];\r\n        obj.forEach((value1, value2, set) => {\r\n          stringParams.push(javaScriptToString(value2));\r\n        });\r\n        str.push(`new Set([${stringParams.join(\",\")}])`);\r\n      } else {\r\n        for (prop in obj) {\r\n          if (obj.hasOwnProperty(prop))\r\n            str.push(prop + \": \" + javaScriptToString(obj[prop]));\r\n        }\r\n        return \"{\" + str.join(\",\") + \"}\";\r\n      }\r\n      break;\r\n    case \"regexp\":\r\n      str.push(obj.toString());\r\n      break;\r\n    case \"array\":\r\n      for (prop = 0; prop < obj.length; prop++) {\r\n        str.push(javaScriptToString(obj[prop]));\r\n      }\r\n      return \"[\" + str.join(\",\") + \"]\";\r\n    case \"function\":\r\n      str.push(obj.toString());\r\n      break;\r\n    case \"date\":\r\n      if (isNaN(obj.getTime())) {\r\n        str.push(`new Date(${obj.toString()})`);\r\n      } else {\r\n        str.push(`new Date(${obj.toISOString()})`);\r\n      }\r\n      break;\r\n    case \"bigint\":\r\n      str.push(`BigInt(${obj})`);\r\n      break;\r\n    case \"number\":\r\n      if (Number.isNaN(obj)) {\r\n        str.push(\"Number.NaN\");\r\n      } else {\r\n        switch (obj) {\r\n          case Number.POSITIVE_INFINITY:\r\n            str.push(\"Number.POSITIVE_INFINITY\");\r\n            break;\r\n          case Number.NEGATIVE_INFINITY:\r\n            str.push(\"Number.NEGATIVE_INFINITY\");\r\n            break;\r\n          case Number.EPSILON:\r\n            str.push(\"Number.EPSILON\");\r\n            break;\r\n          case Number.MAX_SAFE_INTEGER:\r\n            str.push(\"Number.MAX_SAFE_INTEGER\");\r\n            break;\r\n          case Number.MIN_SAFE_INTEGER:\r\n            str.push(\"Number.MIN_SAFE_INTEGER\");\r\n            break;\r\n          case Number.MAX_VALUE:\r\n            str.push(\"Number.MAX_VALUE\");\r\n            break;\r\n          case Number.MIN_VALUE:\r\n            str.push(\"Number.MIN_VALUE\");\r\n            break;\r\n          default:\r\n            str.push(JSON.stringify(obj));\r\n        }\r\n      }\r\n      break;\r\n    case \"error\":\r\n      let message = JSON.stringify(obj.message),\r\n        fileName = JSON.stringify(obj.fileName),\r\n        lineNumber = JSON.stringify(obj.lineNumber);\r\n      str.push(`new Error(${message}, ${fileName}, ${lineNumber})`);\r\n      break;\r\n    case \"symbol\":\r\n      switch (obj) {\r\n        case Symbol.asyncIterator:\r\n        case Symbol.hasInstance:\r\n        case Symbol.isConcatSpreadable:\r\n        case Symbol.iterator:\r\n        case Symbol.match:\r\n        case Symbol.prototype:\r\n        case Symbol.replace:\r\n        case Symbol.search:\r\n        case Symbol.species:\r\n        case Symbol.split:\r\n        case Symbol.toPrimitive:\r\n        case Symbol.toStringTag:\r\n        case Symbol.unscopables:\r\n          str.push(obj.description);\r\n          break;\r\n        default:\r\n          let description = obj.description ? `\"${obj.description}\"` : \"\";\r\n          str.push(`Symbol(${description})`);\r\n          break;\r\n      }\r\n      break;\r\n    default:\r\n      str.push(JSON.stringify(obj));\r\n  }\r\n  return str.join(\",\");\r\n}\r\n\r\nexport default javaScriptToString;\r\n"],"names":["getObjectType"],"mappings":"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"}