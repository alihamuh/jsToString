{"version":3,"file":"javascripttostring.es5.js","sources":["../src/javascripttostring.ts"],"sourcesContent":["let getObjectType: any = (function() {\r\n  let types: any = {},\r\n    typesToString: any = types.toString;\r\n\r\n  [\r\n    \"Boolean\",\r\n    \"Number\",\r\n    \"String\",\r\n    \"Function\",\r\n    \"Array\",\r\n    \"Date\",\r\n    \"RegExp\",\r\n    \"Object\",\r\n    \"Error\"\r\n  ].forEach(function(name) {\r\n    types[\"[object \" + name + \"]\"] = name.toLowerCase();\r\n  });\r\n\r\n  return (obj: any): string => {\r\n    return obj == null\r\n      ? obj + \"\"\r\n      : typeof obj === \"object\" || typeof obj === \"function\"\r\n      ? types[typesToString.call(obj)] || \"object\"\r\n      : typeof obj;\r\n  };\r\n})();\r\n\r\n/**\r\n * Converts JavaScript value to string\r\n * @param obj the value of any type\r\n */\r\nfunction javaScriptToString(obj: any): string {\r\n  let prop,\r\n    str: string[] = [];\r\n\r\n  switch (getObjectType(obj)) {\r\n    case \"undefined\":\r\n      return String(obj);\r\n    case \"object\":\r\n      if (obj instanceof Map) {\r\n        let stringParams: string[] = [];\r\n        obj.forEach((value, key) => {\r\n          stringParams.push(`[${javaScriptToString(key)},${javaScriptToString(value)}]`);\r\n        });\r\n        str.push(`new Map([${stringParams.join(\",\")}])`);\r\n      } else {\r\n        for (prop in obj) {\r\n          if (obj.hasOwnProperty(prop))\r\n            str.push(prop + \": \" + javaScriptToString(obj[prop]));\r\n        }\r\n        return \"{\" + str.join(\",\") + \"}\";\r\n      }\r\n      break;\r\n    case \"regexp\":\r\n      str.push(obj.toString());\r\n      break;\r\n    case \"array\":\r\n      for (prop = 0; prop < obj.length; prop++) {\r\n        str.push(javaScriptToString(obj[prop]));\r\n      }\r\n      return \"[\" + str.join(\",\") + \"]\";\r\n    case \"function\":\r\n      str.push(obj.toString());\r\n      break;\r\n    case \"date\":\r\n      if (isNaN(obj.getTime())) {\r\n        str.push(`new Date(${obj.toString()})`);\r\n      } else {\r\n        str.push(`new Date(${obj.toISOString()})`);\r\n      }\r\n      break;\r\n    case \"number\":\r\n      if (Number.isNaN(obj)) {\r\n        str.push(\"Number.NaN\");\r\n      } else {\r\n        switch (obj) {\r\n          case Number.POSITIVE_INFINITY:\r\n            str.push(\"Number.POSITIVE_INFINITY\");\r\n            break;\r\n          case Number.NEGATIVE_INFINITY:\r\n            str.push(\"Number.NEGATIVE_INFINITY\");\r\n            break;\r\n          case Number.EPSILON:\r\n            str.push(\"Number.EPSILON\");\r\n            break;\r\n          case Number.MAX_SAFE_INTEGER:\r\n            str.push(\"Number.MAX_SAFE_INTEGER\");\r\n            break;\r\n          case Number.MIN_SAFE_INTEGER:\r\n            str.push(\"Number.MIN_SAFE_INTEGER\");\r\n            break;\r\n          case Number.MAX_VALUE:\r\n            str.push(\"Number.MAX_VALUE\");\r\n            break;\r\n          case Number.MIN_VALUE:\r\n            str.push(\"Number.MIN_VALUE\");\r\n            break;\r\n          default:\r\n            str.push(JSON.stringify(obj));\r\n        }\r\n      }\r\n      break;\r\n    case \"error\":\r\n      let message = JSON.stringify(obj.message),\r\n        fileName = JSON.stringify(obj.fileName),\r\n        lineNumber = JSON.stringify(obj.lineNumber);\r\n      str.push(`new Error(${message}, ${fileName}, ${lineNumber})`);\r\n      break;\r\n    default:\r\n      str.push(JSON.stringify(obj));\r\n  }\r\n  return str.join(\",\");\r\n}\r\n\r\nexports.default = javaScriptToString;\r\n"],"names":[],"mappings":"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"}