{"version":3,"file":"javascripttostring.umd.js","sources":["../src/javascripttostring.ts"],"sourcesContent":["import getObjectType from \"get-internal-type\";\r\n\r\n/**\r\n * Converts JavaScript value to string\r\n * @param obj the value of any type\r\n */\r\nfunction javaScriptToString(obj: any): string {\r\n  let prop,\r\n    str: string[] = [];\r\n\r\n  switch (getObjectType(obj)) {\r\n    case \"undefined\":\r\n      return String(obj);\r\n    case \"object\":\r\n      if (obj instanceof Map) {\r\n        let stringParams: string[] = [];\r\n        obj.forEach((value, key) => {\r\n          stringParams.push(\r\n            `[${javaScriptToString(key)},${javaScriptToString(value)}]`\r\n          );\r\n        });\r\n        str.push(`new Map([${stringParams.join(\",\")}])`);\r\n      }\r\n      if (obj instanceof Set) {\r\n        let stringParams: string[] = [];\r\n        obj.forEach((value1, value2, set) => {\r\n          stringParams.push(javaScriptToString(value2));\r\n        });\r\n        str.push(`new Set([${stringParams.join(\",\")}])`);\r\n      } else {\r\n        for (prop in obj) {\r\n          if (obj.hasOwnProperty(prop))\r\n            str.push(prop + \": \" + javaScriptToString(obj[prop]));\r\n        }\r\n        return \"{\" + str.join(\",\") + \"}\";\r\n      }\r\n      break;\r\n    case \"regexp\":\r\n      str.push(obj.toString());\r\n      break;\r\n    case \"array\":\r\n      for (prop = 0; prop < obj.length; prop++) {\r\n        str.push(javaScriptToString(obj[prop]));\r\n      }\r\n      return \"[\" + str.join(\",\") + \"]\";\r\n    case \"function\":\r\n      str.push(obj.toString());\r\n      break;\r\n    case \"date\":\r\n      if (isNaN(obj.getTime())) {\r\n        str.push(`new Date(${obj.toString()})`);\r\n      } else {\r\n        str.push(`new Date(${obj.toISOString()})`);\r\n      }\r\n      break;\r\n    case \"bigint\":\r\n      str.push(`BigInt(${obj})`);\r\n      break;\r\n    case \"number\":\r\n      if (Number.isNaN(obj)) {\r\n        str.push(\"Number.NaN\");\r\n      } else {\r\n        switch (obj) {\r\n          case Number.POSITIVE_INFINITY:\r\n            str.push(\"Number.POSITIVE_INFINITY\");\r\n            break;\r\n          case Number.NEGATIVE_INFINITY:\r\n            str.push(\"Number.NEGATIVE_INFINITY\");\r\n            break;\r\n          case Number.EPSILON:\r\n            str.push(\"Number.EPSILON\");\r\n            break;\r\n          case Number.MAX_SAFE_INTEGER:\r\n            str.push(\"Number.MAX_SAFE_INTEGER\");\r\n            break;\r\n          case Number.MIN_SAFE_INTEGER:\r\n            str.push(\"Number.MIN_SAFE_INTEGER\");\r\n            break;\r\n          case Number.MAX_VALUE:\r\n            str.push(\"Number.MAX_VALUE\");\r\n            break;\r\n          case Number.MIN_VALUE:\r\n            str.push(\"Number.MIN_VALUE\");\r\n            break;\r\n          default:\r\n            str.push(JSON.stringify(obj));\r\n        }\r\n      }\r\n      break;\r\n    case \"error\":\r\n      let message = JSON.stringify(obj.message),\r\n        fileName = JSON.stringify(obj.fileName),\r\n        lineNumber = JSON.stringify(obj.lineNumber);\r\n      str.push(`new Error(${message}, ${fileName}, ${lineNumber})`);\r\n      break;\r\n    case \"symbol\":\r\n      switch (obj) {\r\n        case Symbol.asyncIterator:\r\n        case Symbol.hasInstance:\r\n        case Symbol.isConcatSpreadable:\r\n        case Symbol.iterator:\r\n        case Symbol.match:\r\n        case Symbol.prototype:\r\n        case Symbol.replace:\r\n        case Symbol.search:\r\n        case Symbol.species:\r\n        case Symbol.split:\r\n        case Symbol.toPrimitive:\r\n        case Symbol.toStringTag:\r\n        case Symbol.unscopables:\r\n          str.push(obj.description);\r\n          break;\r\n        default:\r\n          let description = obj.description ? `\"${obj.description}\"` : \"\";\r\n          str.push(`Symbol(${description})`);\r\n          break;\r\n      }\r\n      break;\r\n    default:\r\n      str.push(JSON.stringify(obj));\r\n  }\r\n  return str.join(\",\");\r\n}\r\n\r\nexport default javaScriptToString;\r\n"],"names":["getObjectType"],"mappings":"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"}