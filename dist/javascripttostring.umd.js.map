{"version":3,"file":"javascripttostring.umd.js","sources":["../src/javascripttostring.ts"],"sourcesContent":["let getObjectType: any = (function() {\r\n  let types: any = {},\r\n    typesToString: any = types.toString;\r\n\r\n  [\r\n    \"Boolean\",\r\n    \"Number\",\r\n    \"String\",\r\n    \"Function\",\r\n    \"Array\",\r\n    \"Date\",\r\n    \"RegExp\",\r\n    \"Object\",\r\n    \"Error\"\r\n  ].forEach(function(name) {\r\n    types[\"[object \" + name + \"]\"] = name.toLowerCase();\r\n  });\r\n\r\n  return (obj: any): string => {\r\n    return obj == null\r\n      ? obj + \"\"\r\n      : typeof obj === \"object\" || typeof obj === \"function\"\r\n      ? types[typesToString.call(obj)] || \"object\"\r\n      : typeof obj;\r\n  };\r\n})();\r\n\r\n/**\r\n * Converts JavaScript value to string\r\n * @param obj the value of any type\r\n */\r\nfunction javaScriptToString(obj: any): string {\r\n  let prop,\r\n    str: string[] = [];\r\n\r\n  switch (getObjectType(obj)) {\r\n    case \"undefined\":\r\n      return String(obj);\r\n    case \"object\":\r\n      if (obj instanceof Map) {\r\n        let stringParams: string[] = [];\r\n        obj.forEach((value, key) => {\r\n          stringParams.push(`[${javaScriptToString(key)},${javaScriptToString(value)}]`);\r\n        });\r\n        str.push(`new Map([${stringParams.join(\",\")}])`);\r\n      } if (obj instanceof Set){\r\n        let stringParams: string[] = [];\r\n        obj.forEach((value1, value2, set) => {\r\n          stringParams.push(`${javaScriptToString(value2)}`);\r\n        });\r\n        str.push(`new Set([${stringParams.join(\",\")}])`);\r\n      } else {\r\n        for (prop in obj) {\r\n          if (obj.hasOwnProperty(prop))\r\n            str.push(prop + \": \" + javaScriptToString(obj[prop]));\r\n        }\r\n        return \"{\" + str.join(\",\") + \"}\";\r\n      }\r\n      break;\r\n    case \"regexp\":\r\n      str.push(obj.toString());\r\n      break;\r\n    case \"array\":\r\n      for (prop = 0; prop < obj.length; prop++) {\r\n        str.push(javaScriptToString(obj[prop]));\r\n      }\r\n      return \"[\" + str.join(\",\") + \"]\";\r\n    case \"function\":\r\n      str.push(obj.toString());\r\n      break;\r\n    case \"date\":\r\n      if (isNaN(obj.getTime())) {\r\n        str.push(`new Date(${obj.toString()})`);\r\n      } else {\r\n        str.push(`new Date(${obj.toISOString()})`);\r\n      }\r\n      break;\r\n    case \"number\":\r\n      if (Number.isNaN(obj)) {\r\n        str.push(\"Number.NaN\");\r\n      } else {\r\n        switch (obj) {\r\n          case Number.POSITIVE_INFINITY:\r\n            str.push(\"Number.POSITIVE_INFINITY\");\r\n            break;\r\n          case Number.NEGATIVE_INFINITY:\r\n            str.push(\"Number.NEGATIVE_INFINITY\");\r\n            break;\r\n          case Number.EPSILON:\r\n            str.push(\"Number.EPSILON\");\r\n            break;\r\n          case Number.MAX_SAFE_INTEGER:\r\n            str.push(\"Number.MAX_SAFE_INTEGER\");\r\n            break;\r\n          case Number.MIN_SAFE_INTEGER:\r\n            str.push(\"Number.MIN_SAFE_INTEGER\");\r\n            break;\r\n          case Number.MAX_VALUE:\r\n            str.push(\"Number.MAX_VALUE\");\r\n            break;\r\n          case Number.MIN_VALUE:\r\n            str.push(\"Number.MIN_VALUE\");\r\n            break;\r\n          default:\r\n            str.push(JSON.stringify(obj));\r\n        }\r\n      }\r\n      break;\r\n    case \"error\":\r\n      let message = JSON.stringify(obj.message),\r\n        fileName = JSON.stringify(obj.fileName),\r\n        lineNumber = JSON.stringify(obj.lineNumber);\r\n      str.push(`new Error(${message}, ${fileName}, ${lineNumber})`);\r\n      break;\r\n    default:\r\n      str.push(JSON.stringify(obj));\r\n  }\r\n  return str.join(\",\");\r\n}\r\n\r\nexports.default = javaScriptToString;\r\n"],"names":[],"mappings":"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"}